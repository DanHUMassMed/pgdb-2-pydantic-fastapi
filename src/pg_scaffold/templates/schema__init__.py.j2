{% for class in classes %}
from .{{ class.file_name }} import {{ class.class_name }}Create, {{ class.class_name }}Read, {{ class.class_name }}Update
{% endfor %}

__all__ = [
{% for class in classes %}
    "{{ class.class_name }}Create",
    "{{ class.class_name }}Read",
    "{{ class.class_name }}Update",
{% endfor %}
]


# Rebuild all schemas to resolve any forward references
schema_classes = [
{% for class in classes %}
    {{ class.class_name }}Create,
    {{ class.class_name }}Read,
    {{ class.class_name }}Update,
{% endfor %}
]
for schema_cls in schema_classes:
    schema_cls.model_rebuild()